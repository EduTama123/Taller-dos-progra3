<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Gestión de Recomendaciones</title>
  <!--FAVICON-->
  <link rel="icon" th:href="@{/images/pruebaEstres.png}">
  <link href="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.js"></script>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<!--barra de navegacion-->
<header class="sticky w-full top-0 z-50">
  <!--primer nav-->
  <nav class="navbar-top">
    <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl p-4">
      <a class="logo flex items-center space-x-3 rtl:space-x-reverse">
        <img th:src="@{/images/pruebaEstres.png}" class="h-7" alt="CureStress Logo" />
        <span class="self-center text-xl font-semibold whitespace-nowrap">CureStress</span>
      </a>
      <form th:action="@{/logout}" method="post">
        <button type="submit"
                class="rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700">
          Cerrar sesión
        </button>
      </form>
    </div>
  </nav>

  <!--segundo nav-->
  <nav class="navbar-bottom">
    <div class="max-w-screen-xl px-4 py-3 mx-auto">
      <div class="flex items-center justify-center">
        <ul class="flex flex-row font-medium mt-0 space-x-8 rtl:space-x-reverse text-sm">
          <li><a th:href="@{/inicio}" class="nav-link" aria-current="page">Home</a></li>
          <li><a th:href="@{/especialista}" class="nav-link">Panel Especialista</a></li>
          <li><a th:href="@{/recomendaciones}" class="nav-link">Ver Recomendaciones</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<!-- FORMULARIO DE RECOMENDACIONES -->
<div class="max-w-4xl mx-auto p-6">
  <h1 class="text-3xl font-bold mb-6 text-center">
    <span th:if="${recomendacion.nivelAnsiedad}">Editar Recomendaciones para </span>
    <span th:unless="${recomendacion.nivelAnsiedad}">Crear Nuevas Recomendaciones</span>
    <span class="text-blue-600" th:text="${recomendacion.nivelAnsiedad}"></span>
  </h1>

  <form th:action="@{/recomendaciones/guardar}" method="post" th:object="${recomendacion}"
        class="bg-white p-8 rounded-lg shadow-md space-y-6">

    <!-- Campo oculto para ID si existe -->
    <input type="hidden" th:field="*{id}">

    <!-- Nivel de Ansiedad -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Nivel de Ansiedad *
      </label>
      <select th:field="*{nivelAnsiedad}" required
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
        <option value="">Seleccione un nivel</option>
        <option value="Leve">Leve (0-10 puntos)</option>
        <option value="Moderado">Moderado (11-20 puntos)</option>
        <option value="Severo">Severo (21-30 puntos)</option>
      </select>
    </div>

    <!-- Recomendación 1 -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Recomendación 1 (Ejercicio de respiración) *
      </label>
      <textarea th:field="*{recomendacion1}" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                rows="3" placeholder="Ej: Realiza 5 minutos de respiración profunda cada mañana..."></textarea>
    </div>

    <!-- Recomendación 2 -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Recomendación 2 (Actividad física) *
      </label>
      <textarea th:field="*{recomendacion2}" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                rows="3" placeholder="Ej: Camina 30 minutos al día, 3 veces por semana..."></textarea>
    </div>

    <!-- Recomendación 3 -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Recomendación 3 (Hábitos de sueño) *
      </label>
      <textarea th:field="*{recomendacion3}" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                rows="3" placeholder="Ej: Mantén un horario regular de sueño, 7-8 horas diarias..."></textarea>
    </div>

    <!-- Recomendación 4 -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Recomendación 4 (Alimentación) *
      </label>
      <textarea th:field="*{recomendacion4}" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                rows="3" placeholder="Ej: Reduce el consumo de cafeína y azúcar..."></textarea>
    </div>

    <!-- Recomendación 5 -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">
        Recomendación 5 (Técnica de relajación) *
      </label>
      <textarea th:field="*{recomendacion5}" required
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                rows="3" placeholder="Ej: Practica mindfulness 10 minutos al día..."></textarea>
    </div>

    <!-- Botones -->
    <div class="flex gap-4 pt-4">
      <button type="submit"
              class="flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition">
        <span th:if="${recomendacion.id}">Actualizar Recomendaciones</span>
        <span th:unless="${recomendacion.id}">Guardar Recomendaciones</span>
      </button>
      <a th:href="@{/recomendaciones}"
         class="flex-1 bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium text-center hover:bg-gray-400 transition">
        Cancelar
      </a>
    </div>
  </form>

  <!-- Nota informativa -->
  <div class="mt-8 p-4 bg-green-50 rounded-lg border-green-200">
    <h3 class="font-bold text-green-800 mb-2 flex items-center gap-2">
      <!-- Ícono de foco/idea de Google Material Icons -->
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6A4.997 4.997 0 0 1 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"/>
      </svg>
      Consejos para especialistas:
    </h3>
    <ul class="list-disc pl-6 text-green-700 space-y-1 ml-2">
      <li>Las recomendaciones deben ser específicas para cada nivel de ansiedad</li>
      <li>Usa un lenguaje claro y accesible para los usuarios</li>
      <li>Incluye ejercicios prácticos que puedan realizarse en casa</li>
      <li>Puedes editar estas recomendaciones en cualquier momento</li>
    </ul>
  </div>
</div>

<!--footer-->
<footer class="footerBg">
  <div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">
    <div class="md:flex md:justify-between">
      <div class="mb-6 md:mb-0">
        <a class="flex items-center">
          <img th:src="@{images/pruebaEstres.png}" class="h-7 me-3" alt="FlowBite Logo" />
          <span class="text-heading self-center text-2xl font-semibold whitespace-nowrap">CureStress</span>
        </a>
      </div>
      <div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3">
        <div>
          <h2 class="mb-6 text-sm font-semibold text-heading uppercase">Índice</h2>
          <ul class="text-body font-medium">
            <li class="mb-4">
              <a th:href="@{/inicio}" class="hover:underline">Inicio</a>
            </li>
            <li class="mb-4">
              <a th:href="@{/usuarios}" class="hover:underline">Tabla usuarios</a>
            </li>
            <li class="mb-4">
              <a th:href="@{/usuarios/formUsuario}" class="hover:underline">Formulario</a>
            </li>
          </ul>
        </div>
        <div>
          <h2 class="mb-6 text-sm font-semibold text-heading uppercase">Siguenos</h2>
          <ul class="text-body font-medium">
            <li class="mb-4">
              <a target="_blank" href="https://www.instagram.com/" class="hover:underline ">Instagram</a>
            </li>
            <li class="mb-4">
              <a target="_blank" href="https://www.youtube.com/" class="hover:underline">YouTube</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <hr class="my-6 border-default sm:mx-auto lg:my-8" />
    <div class="sm:flex sm:items-center sm:justify-between">
          <span class="text-sm text-body sm:text-center">© 2025 <a class="hover:underline">CureStress™</a>. All Rights Reserved.
          </span>
      <div class="flex mt-4 sm:justify-center sm:mt-0">
        <a target="_blank" th:href="@{https://github.com/EduTama123/Taller-dos-progra3.git}" class="text-body hover:text-heading ms-5">
          <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"/></svg>
          <span class="sr-only">Enlace repo</span>
        </a>
      </div>
    </div>
  </div>
</footer>
<script th:src="@{/js/index.js}"></script>
</body>
</html>